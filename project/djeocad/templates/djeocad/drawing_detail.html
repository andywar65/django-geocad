{% extends "djeocad/base.html" %}
{% load static %}
{% load leaflet_tags %}
{% load geojson_tags %}

{% block extra-head %}
  {% leaflet_js %}
  {% leaflet_css %}
  <style>
    .leaflet-container {  /* all maps */
      height: 600px;
    }
  </style>
{% endblock extra-head %}

{% block content %}
  <h2>Drawing: {{ object.title }}</h2>
  <details>
    <summary>Menu</summary>
    <ul>
      <li>
        <a href="/admin/djeocad/drawing/{{ object.id }}/change/">
          Modify
        </a>
      </li>
      <li>
        <a href="{% url 'djeocad:drawing_list' %}">
          Back to list
        </a>
      </li>
    </ul>
  </details>
  <script id="marker_data" type="application/json">{{ object|geojsonfeature:"popupContent"|safe }}</script>
  {% include "djeocad/map_data.html" %}
  <script src="{% static 'djeocad/js/map_script.js'%}"></script>
  <div>
    {% leaflet_map "mymap" callback="window.map_init" %}
  </div>
{% endblock content %}
